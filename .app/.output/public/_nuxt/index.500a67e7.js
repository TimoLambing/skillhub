import{d as F,b8 as I,u as L,c as $,r as x,L as D,ba as H,o,a as n,h as r,b as s,e as t,w as a,f as c,V as g,M,C as T,F as B,E as z,bn as U,_ as Y,j as G,l as X,m as J,t as u,a5 as K,s as O}from"./entry.7a674c3f.js";import{_ as Q,a as W}from"./BaseAutocomplete.vue.6c596c62.js";import{_ as Z}from"./BaseAvatar.vue.c7280971.js";import{u as ee}from"./fetch.60faa2a9.js";import"./BaseIconBox.vue.a64454fb.js";import"./combobox.71a50383.js";import"./use-tracked-pointer.b9f48afb.js";import"./use-resolve-button-type.75d16b16.js";import"./use-tree-walker.67118156.js";import"./use-controllable.900ad711.js";const te={class:"mx-auto max-w-2xl"},se={key:0},ae={class:"bg-muted-200 dark:bg-muted-800/60 rounded-xl p-6"},oe={key:1},ne={class:"my-6 text-center"},ce={class:"mx-auto mt-6 flex max-w-xs justify-center"},le={key:1,class:"text-muted-700 dark:text-muted-400 cursor-default select-none"},re={class:"grid gap-4 sm:grid-cols-2"},ue={class:"mb-6 flex gap-2"},ie={class:"flex items-center justify-between"},de={class:"flex items-center gap-2"},me={class:"text-muted-400 flex items-center gap-4"},pe={class:"flex items-center gap-1 text-sm"},_e={class:"font-sans"},fe={class:"flex items-center gap-1 text-sm"},he={class:"font-sans"},qe=F({__name:"index",async setup(xe){let i,v;const V=I(),C=L(),N=$(()=>parseInt(V.query.page??"1")),y=x(""),b=x(25);D([y,b],()=>{C.push({query:{page:void 0}})});const q=$(()=>({filter:y.value,perPage:b.value,page:N.value})),{data:d,pending:P,error:ge,refresh:ve}=([i,v]=H(()=>ee("/api/company/projects",{query:q},"$S1U37XCRMc")),i=await i,v(),i),m=x("");return(ye,w)=>{const p=Y,_=G,f=X,A=K,R=Q,k=J,S=W,j=Z,E=O;return o(),n("div",te,[!r(P)&&r(d)?.recent.length===0?(o(),n("div",se,[s("div",ae,[t(p,{tag:"h4",size:"lg",weight:"medium"},{default:a(()=>[c(" No projects ")]),_:1}),t(_,{size:"sm",class:"text-muted-400"},{default:a(()=>[c(" You've recently viewed these projects. ")]),_:1})])])):(o(),n("div",oe,[s("div",ne,[t(f,{name:"ph:square-half-duotone",class:"text-primary-500 mx-auto mb-2 h-10 w-10"}),t(p,{tag:"h4",size:"2xl",weight:"medium"},{default:a(()=>[c(" Your recent projects ")]),_:1}),t(_,{size:"sm",class:"text-muted-400"},{default:a(()=>[c(" Here are your recently viewed projects. ")]),_:1}),s("div",ce,[t(S,{modelValue:r(m),"onUpdate:modelValue":w[0]||(w[0]=e=>T(m)?m.value=e:null),items:r(d)?.data,"display-value":e=>e.name,shape:"curved",icon:"lucide:search",placeholder:"Search...",label:"Search projects","label-float":"",clearable:""},{empty:a(({pending:e,query:l})=>[e?(o(),g(A,{key:0})):l?M("",!0):(o(),n("span",le," Ex: Delivery app project... "))]),item:a(({item:e,selected:l})=>[t(k,{to:`/layouts/projects/details/${e.slug}`,class:"block"},{default:a(()=>[t(R,{value:{name:e.name,text:`${e.customer.name} | ${e.customer.text}`,media:e.customer.logo},selected:l},null,8,["value","selected"])]),_:2},1032,["to"])]),_:1},8,["modelValue","items","display-value"])])]),s("div",re,[t(U,{"enter-active-class":"transform-gpu","enter-from-class":"opacity-0 -translate-x-full","enter-to-class":"opacity-100 translate-x-0","leave-active-class":"absolute transform-gpu","leave-from-class":"opacity-100 translate-x-0","leave-to-class":"opacity-0 -translate-x-full"},{default:a(()=>[(o(!0),n(B,null,z(r(d)?.recent.slice(0,4),(e,l)=>(o(),g(k,{key:l,class:"group block",to:`/layouts/projects/details/${e.slug}`},{default:a(()=>[t(E,{shape:"curved","elevated-hover":"",class:"group-hover:!border-primary-500 p-5"},{default:a(()=>[s("div",ue,[t(j,{src:e.customer.logo,size:"sm",shape:"full","data-nui-tooltip":e.name,class:"bg-muted-100 dark:bg-muted-700"},null,8,["src","data-nui-tooltip"]),s("div",null,[t(p,{tag:"h5",size:"sm",weight:"medium",class:"line-clamp-1"},{default:a(()=>[c(u(e.name),1)]),_:2},1024),t(_,{size:"xs",class:"text-muted-400"},{default:a(()=>[c(u(e.customer.name)+" | "+u(e.customer.text),1)]),_:2},1024)])]),s("div",ie,[s("div",de,[(o(!0),n(B,null,z(e.stacks,h=>(o(),g(j,{key:h.name,src:h.icon,size:"xxs",shape:"full","data-nui-tooltip":h.name,class:"bg-muted-100 dark:bg-muted-700"},null,8,["src","data-nui-tooltip"]))),128))]),s("div",me,[s("div",pe,[t(f,{name:"ph:paperclip-duotone",class:"h-4 w-4"}),s("span",_e,u(e.files.length),1)]),s("div",fe,[t(f,{name:"ph:users-duotone",class:"h-4 w-4"}),s("span",he,u(e.team.length),1)])])])]),_:2},1024)]),_:2},1032,["to"]))),128))]),_:1})])]))])}}});export{qe as default};
