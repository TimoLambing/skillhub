import{d as D,b8 as E,u as F,c as $,r as f,L as H,ba as R,o,a as n,h as r,b as s,e as t,w as a,f as l,V as x,M as T,C as G,F as B,E as z,bn as M,_ as U,j as Y,l as J,m as K,t as m,a5 as O,s as Q}from"./entry.bd70d1e3.js";import{_ as W,a as X}from"./BaseAutocomplete.vue.11ebe821.js";import{_ as Z}from"./BaseAvatar.vue.9be09a30.js";import{u as ee}from"./fetch.e6fa6219.js";import"./BaseIconBox.vue.01001f60.js";import"./combobox.ba2cd9c0.js";import"./use-tracked-pointer.cb95db16.js";import"./use-resolve-button-type.c42ff2d7.js";import"./use-tree-walker.ee00fb76.js";import"./use-controllable.66d216e5.js";const te={class:"ltablet:mt-20 mx-auto max-w-4xl lg:mt-20"},se={key:0},ae={class:"bg-muted-200 dark:bg-muted-800/60 rounded-xl p-6"},oe={key:1,class:"grid grid-cols-12 gap-6"},ne={class:"ltablet:col-span-5 col-span-12 mb-6 lg:col-span-5"},le={class:"ltablet:max-w-sm bg-muted-200 dark:bg-muted-800/60 rounded-xl p-8 lg:max-w-sm"},ce={class:"mb-8 max-w-sm"},re={key:1,class:"text-muted-700 dark:text-muted-400 cursor-default select-none"},me={class:"ltablet:col-span-7 col-span-12 grid gap-4 sm:grid-cols-2 lg:col-span-7"},de={class:"mb-6 flex gap-2"},ie={class:"flex items-center justify-between"},ue={class:"flex items-center gap-2"},pe={class:"text-muted-400 flex items-center gap-4"},_e={class:"flex items-center gap-1 text-sm"},he={class:"font-sans"},ge={class:"flex items-center gap-1 text-sm"},fe={class:"font-sans"},Pe=D({__name:"index",async setup(xe){let d,b;const V=E(),C=F(),N=$(()=>parseInt(V.query.page??"1")),v=f(""),y=f(25);H([v,y],()=>{C.push({query:{page:void 0}})});const q=$(()=>({filter:v.value,perPage:y.value,page:N.value})),{data:i,pending:P,error:be,refresh:ve}=([d,b]=R(()=>ee("/api/company/projects",{query:q},"$qdbzuIDHcS")),d=await d,b(),d),u=f("");return(ye,k)=>{const p=U,_=Y,h=J,S=O,A=W,w=K,I=X,j=Z,L=Q;return o(),n("div",te,[!r(P)&&r(i)?.recent.length===0?(o(),n("div",se,[s("div",ae,[t(p,{tag:"h4",size:"lg",weight:"medium"},{default:a(()=>[l(" No projects ")]),_:1}),t(_,{size:"sm",class:"text-muted-400"},{default:a(()=>[l(" Looks like you don't have any project to view. ")]),_:1})])])):(o(),n("div",oe,[s("div",ne,[s("div",le,[s("div",ce,[t(h,{name:"ph:kanban-duotone",class:"text-primary-500 mb-2 h-10 w-10"}),t(p,{tag:"h4",size:"xl",weight:"medium",class:"mb-2"},{default:a(()=>[l(" Your recent boards ")]),_:1}),t(_,{size:"sm",class:"text-muted-400"},{default:a(()=>[l(" Here are the most recent projects that have been viewed in your team. Search for more by entering the project name below. ")]),_:1})]),t(I,{modelValue:r(u),"onUpdate:modelValue":k[0]||(k[0]=e=>G(u)?u.value=e:null),items:r(i)?.data,"display-value":e=>e.name,shape:"curved",icon:"lucide:search",placeholder:"Search...",label:"Search projects","label-float":"",clearable:""},{empty:a(({pending:e,query:c})=>[e?(o(),x(S,{key:0})):c?T("",!0):(o(),n("span",re," Ex: Delivery app project... "))]),item:a(({item:e,selected:c})=>[t(w,{to:`/layouts/projects/board/${e.slug}`,class:"block"},{default:a(()=>[t(A,{value:{name:e.name,text:`${e.customer.name} | ${e.customer.text}`,media:e.customer.logo},selected:c},null,8,["value","selected"])]),_:2},1032,["to"])]),_:1},8,["modelValue","items","display-value"])])]),s("div",me,[t(M,{"enter-active-class":"transform-gpu","enter-from-class":"opacity-0 -translate-x-full","enter-to-class":"opacity-100 translate-x-0","leave-active-class":"absolute transform-gpu","leave-from-class":"opacity-100 translate-x-0","leave-to-class":"opacity-0 -translate-x-full"},{default:a(()=>[(o(!0),n(B,null,z(r(i)?.data.slice(0,6),(e,c)=>(o(),x(w,{key:c,class:"group block",to:`/layouts/projects/board/${e.slug}`},{default:a(()=>[t(L,{shape:"curved","elevated-hover":"",class:"group-hover:!border-primary-500 p-5"},{default:a(()=>[s("div",de,[t(j,{src:e.customer.logo,size:"sm",shape:"straight",mask:"blob","data-nui-tooltip":e.customer.name,class:"bg-muted-100 dark:bg-muted-700"},null,8,["src","data-nui-tooltip"]),s("div",null,[t(p,{tag:"h5",size:"sm",weight:"medium",class:"line-clamp-1"},{default:a(()=>[l(m(e.name),1)]),_:2},1024),t(_,{size:"xs",class:"text-muted-400"},{default:a(()=>[l(m(e.customer.name)+" | "+m(e.customer.text),1)]),_:2},1024)])]),s("div",ie,[s("div",ue,[(o(!0),n(B,null,z(e.stacks,g=>(o(),x(j,{key:g.name,src:g.icon,size:"xxs",shape:"straight",mask:"blob","data-nui-tooltip":g.name,class:"bg-muted-100 dark:bg-muted-700"},null,8,["src","data-nui-tooltip"]))),128))]),s("div",pe,[s("div",_e,[t(h,{name:"ph:paperclip-duotone",class:"h-4 w-4"}),s("span",he,m(e.files.length),1)]),s("div",ge,[t(h,{name:"ph:users-duotone",class:"h-4 w-4"}),s("span",fe,m(e.team.length),1)])])])]),_:2},1024)]),_:2},1032,["to"]))),128))]),_:1})])]))])}}});export{Pe as default};
