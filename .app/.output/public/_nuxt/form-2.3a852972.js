import{d as j,c as U,r as A,L as Y,bh as q,o as H,a as J,b as e,e as t,w as a,f as c,h as o,t as v,D as E,g as W,_ as X,q as K,n as ee,m as oe,k as te,s as ae,l as se}from"./entry.a9943f59.js";import{_ as le}from"./BaseSelect.vue.06a8bdce.js";import{_ as de}from"./BaseTextarea.vue.02084aa4.js";import{_ as ne}from"./TairoFormGroup.vue.f3946161.js";import{_ as re}from"./BaseAvatar.vue.aa11e2f4.js";import{u as ie}from"./toaster.2c541037.js";import{z as s,u as ce,a as ue,F as h,t as me}from"./vee-validate.esm.ddaabc18.js";import"./IconChevronDown.0fd8d294.js";const _e={class:"ltablet:col-span-8 col-span-12 lg:col-span-8"},pe={class:"grid grid-cols-1 gap-4 gap-y-2 text-sm lg:grid-cols-12"},he={class:"col-span-12 mb-10 text-gray-600 sm:col-span-3 sm:mb-0"},ve={class:"ltablet:col-span-9 col-span-12 space-y-10 lg:col-span-9"},ge={class:"grid grid-cols-12 gap-4"},fe={class:"col-span-12 md:col-span-6"},be={class:"col-span-12 md:col-span-6"},xe={class:"col-span-12 md:col-span-6"},Ee={class:"col-span-12 md:col-span-6"},ye=e("option",{value:"",hidden:""},null,-1),Re=e("option",{value:"Surgery"},"Surgery",-1),Ie=e("option",{value:"Cardiology"},"Cardiology",-1),Ue=e("option",{value:"Pediatry"},"Pediatry",-1),we=e("option",{value:"Dermatology"},"Dermatology",-1),Te=e("option",{value:"Traumatology"},"Traumatology",-1),Be={class:"col-span-12"},Se={class:"col-span-12 md:col-span-4"},De=e("option",{value:"",hidden:""},null,-1),Ae=e("option",{value:"intern"},"Intern",-1),Ve=e("option",{value:"resident"},"Resident",-1),ke=e("option",{value:"titular"},"Titular",-1),ze={class:"col-span-12 md:col-span-4"},Ce=e("option",{value:"",hidden:""},null,-1),Ne=e("option",{value:"0-5"},"0-5",-1),Oe=e("option",{value:"5-10"},"5-10",-1),Pe=e("option",{value:"10-15"},"10-15",-1),Qe=e("option",{value:"15+"},"15+",-1),Fe={class:"col-span-12 md:col-span-4"},Le=e("option",{value:"",hidden:""},null,-1),Me=e("option",{value:"1"},"B+",-1),$e=e("option",{value:"2"},"A",-1),Ze=e("option",{value:"3"},"A+",-1),Ge=e("option",{value:"4"},"S",-1),je=e("option",{value:"5"},"S+",-1),Ye={class:"grid grid-cols-12 gap-4"},qe={class:"col-span-12"},He={class:"col-span-12 sm:col-span-4"},Je={class:"col-span-12 sm:col-span-4"},We={class:"col-span-12 sm:col-span-4"},Xe={class:"col-span-12"},Ke={class:"bg-muted-100 dark:bg-muted-700/70 flex items-center gap-2 rounded-lg p-4"},eo={class:"ms-auto"},oo={class:"text-right md:col-span-5"},to={class:"-mt-4 inline-flex w-full items-center justify-end gap-2 sm:w-auto"},ao={class:"ltablet:col-span-4 col-span-12 lg:col-span-4"},so={class:"mb-4 flex"},lo={class:"grow"},no={class:"shrink-0"},ro={class:"divide-muted-200 dark:divide-muted-700 flex w-full items-center divide-x py-6"},io={class:"xxl:pe-6 flex flex-1 flex-col gap-1 pe-4"},co={class:"xxl:px-6 flex flex-1 flex-col gap-1 px-4"},uo={class:"xxl:ps-6 flex flex-1 flex-col gap-1 ps-4"},mo={class:"flex items-end justify-between"},_o=e("div",{class:"w-24 text-xs uppercase leading-tight"},"Rating",-1),po={class:"text-success-600 font-sans text-xs font-semibold"},ho={class:"mt-1 flex"},vo={class:"text-muted-400 mt-6 flex items-center gap-2"},go=1e6,Bo=j({__name:"form-2",setup(fo){const _={FIRSTNAME_REQUIRED:"First name can't be empty",LASTNAME_REQUIRED:"Last name can't be empty",EMAIL_REQUIRED:"Email address can't be empty",OPTION_REQUIRED:"Please select an option",ADDRESS_REQUIRED:"Please enter an address",CITY_REQUIRED:"Please enter a city",STATE_REQUIRED:"Please enter a state",ZIPCODE_REQUIRED:"Please enter a zipcode",STATUS_REQUIRED:"Pick a status",AVATAR_TOO_BIG:"Avatar size must be less than 1MB"},V=s.object({avatar:s.custom(u=>u instanceof File).nullable(),doctor:s.object({firstName:s.string().min(1,_.FIRSTNAME_REQUIRED),lastName:s.string().min(1,_.LASTNAME_REQUIRED),email:s.string().min(1,_.EMAIL_REQUIRED),comments:s.string().optional(),status:s.union([s.literal("intern"),s.literal("resident"),s.literal("titular")]).nullable(),speciality:s.union([s.literal("Surgery"),s.literal("Cardiology"),s.literal("Pediatry"),s.literal("Dermataulogy"),s.literal("Traumatology")]).nullable(),experience:s.union([s.literal("0-5"),s.literal("5-10"),s.literal("10-15"),s.literal("15+")]).nullable(),rating:s.union([s.literal("1"),s.literal("2"),s.literal("3"),s.literal("4"),s.literal("5")]).nullable(),address:s.string().min(1,_.ADDRESS_REQUIRED),city:s.string().min(1,_.CITY_REQUIRED),state:s.string().min(1,_.STATE_REQUIRED),zipcode:s.string().min(5,_.ZIPCODE_REQUIRED),country:s.string()})}).superRefine((u,m)=>{u.avatar&&u.avatar.size>go&&m.addIssue({code:s.ZodIssueCode.custom,message:_.AVATAR_TOO_BIG,path:["avatar"]}),u.doctor.status||m.addIssue({code:s.ZodIssueCode.custom,message:_.OPTION_REQUIRED,path:["doctor.status"]}),u.doctor.speciality||m.addIssue({code:s.ZodIssueCode.custom,message:_.OPTION_REQUIRED,path:["doctor.speciality"]}),u.doctor.experience||m.addIssue({code:s.ZodIssueCode.custom,message:_.OPTION_REQUIRED,path:["doctor.experience"]}),u.doctor.rating||m.addIssue({code:s.ZodIssueCode.custom,message:_.OPTION_REQUIRED,path:["doctor.rating"]})}),k=me(V),z=U(()=>({avatar:null,doctor:{firstName:"",lastName:"",email:"",comments:"",status:null,speciality:null,experience:null,rating:null,address:"",city:"",state:"",zipcode:"",country:"United States"}})),{handleSubmit:C,isSubmitting:p,setFieldError:N,meta:O,values:i,errors:P,resetForm:Q,setFieldValue:F,setErrors:bo}=ce({validationSchema:k,initialValues:z}),y=A(!1);U(()=>Object.keys(P.value).length);const L=A();ue("avatar"),Y(L,u=>{const m=u?.item(0)||null;F("avatar",m)}),q(()=>{if(O.value.dirty)return confirm("You have unsaved changes. Are you sure you want to leave?")});const R=ie(),w=C(async u=>{y.value=!1,console.log("doctor-create-success",u);try{await new Promise((m,f)=>{u.doctor.speciality==="Cardiology"&&setTimeout(()=>f(new Error("Fake backend validation error")),2e3),setTimeout(m,4e3)}),R.clearAll(),R.show({title:"Success",message:"Doctor has been added!",color:"success",icon:"ph:check",closable:!0})}catch(m){m.message==="Fake backend validation error"&&(N("doctor.speciality","We have too many cardiologists"),document.documentElement.scrollTo({top:0,behavior:"smooth"}),R.clearAll(),R.show({title:"Oops!",message:"Please review the errors in the form",color:"danger",icon:"lucide:alert-triangle",closable:!0}));return}Q(),document.documentElement.scrollTo({top:0,behavior:"smooth"}),y.value=!0,setTimeout(()=>{y.value=!1},3e3)},u=>{y.value=!1,console.log("doctor-create-error",u),document.documentElement.scrollTo({top:0,behavior:"smooth"})}),x=U(()=>i.doctor?.rating===void 0||i.doctor?.rating===null?0:parseInt(i.doctor?.rating)),M=U(()=>{switch(x.value){case 1:return"Standard";case 2:return"Good";case 3:return"Advanced";case 4:return"Expert";case 5:return"Top 3%";default:return"n/a"}});return(u,m)=>{const f=X,g=K,b=ee,I=le,$=de,T=ne,B=re,Z=oe,S=te,D=ae,G=se;return H(),J("form",{action:"",method:"POST",onSubmit:m[0]||(m[0]=W((...l)=>o(w)&&o(w)(...l),["prevent"])),class:"grid grid-cols-12 gap-6"},[e("div",_e,[t(D,{shape:"rounded",class:"p-4 md:p-8"},{default:a(()=>[e("div",pe,[e("div",he,[t(f,{as:"h2",size:"lg",weight:"medium"},{default:a(()=>[c(" New Doctor ")]),_:1}),t(g,{size:"xs",class:"text-muted-400"},{default:a(()=>[c("Fill in the required fields")]),_:1})]),e("div",ve,[t(T,{label:"General info",sublabel:"Some general information"},{default:a(()=>[e("div",ge,[e("div",fe,[t(o(h),{name:"doctor.firstName"},{default:a(({field:l,errorMessage:d,handleChange:n,handleBlur:r})=>[t(b,{label:"First name",icon:"ph:user-duotone",placeholder:"Ex: John","model-value":l.value,error:d,disabled:o(p),type:"text","onUpdate:modelValue":n,onBlur:r},null,8,["model-value","error","disabled","onUpdate:modelValue","onBlur"])]),_:1})]),e("div",be,[t(o(h),{name:"doctor.lastName"},{default:a(({field:l,errorMessage:d,handleChange:n,handleBlur:r})=>[t(b,{label:"Last name",icon:"ph:user-duotone",placeholder:"Ex: Doe","model-value":l.value,error:d,disabled:o(p),type:"text","onUpdate:modelValue":n,onBlur:r},null,8,["model-value","error","disabled","onUpdate:modelValue","onBlur"])]),_:1})]),e("div",xe,[t(o(h),{name:"doctor.email"},{default:a(({field:l,errorMessage:d,handleChange:n,handleBlur:r})=>[t(b,{label:"Email Address",icon:"ph:envelope-duotone",placeholder:"Ex: johndoe@gmail.com","model-value":l.value,error:d,disabled:o(p),type:"email","onUpdate:modelValue":n,onBlur:r},null,8,["model-value","error","disabled","onUpdate:modelValue","onBlur"])]),_:1})]),e("div",Ee,[t(o(h),{name:"doctor.speciality"},{default:a(({field:l,errorMessage:d,handleChange:n,handleBlur:r})=>[t(I,{label:"Speciality",icon:"ph:first-aid-duotone","model-value":l.value,error:d,disabled:o(p),"onUpdate:modelValue":n,onBlur:r},{default:a(()=>[ye,Re,Ie,Ue,we,Te]),_:2},1032,["model-value","error","disabled","onUpdate:modelValue","onBlur"])]),_:1})]),e("div",Be,[t(o(h),{name:"doctor.comments"},{default:a(({field:l,errorMessage:d,handleChange:n,handleBlur:r})=>[t($,{label:"Comments",placeholder:"Ex: General Orthopedic Surgery, Foot & Ankle Surgery",rows:"3","model-value":l.value,error:d,disabled:o(p),"onUpdate:modelValue":n,onBlur:r},null,8,["model-value","error","disabled","onUpdate:modelValue","onBlur"])]),_:1})]),e("div",Se,[t(o(h),{name:"doctor.status"},{default:a(({field:l,errorMessage:d,handleChange:n,handleBlur:r})=>[t(I,{label:"Status",icon:"ph:heartbeat-duotone","model-value":l.value,error:d,disabled:o(p),"onUpdate:modelValue":n,onBlur:r},{default:a(()=>[De,Ae,Ve,ke]),_:2},1032,["model-value","error","disabled","onUpdate:modelValue","onBlur"])]),_:1})]),e("div",ze,[t(o(h),{name:"doctor.experience"},{default:a(({field:l,errorMessage:d,handleChange:n,handleBlur:r})=>[t(I,{label:"Experience",icon:"ph:trophy-duotone","model-value":l.value,error:d,disabled:o(p),"onUpdate:modelValue":n,onBlur:r},{default:a(()=>[Ce,Ne,Oe,Pe,Qe]),_:2},1032,["model-value","error","disabled","onUpdate:modelValue","onBlur"])]),_:1})]),e("div",Fe,[t(o(h),{name:"doctor.rating"},{default:a(({field:l,errorMessage:d,handleChange:n,handleBlur:r})=>[t(I,{label:"Rating",icon:"ph:star-duotone","model-value":l.value,error:d,disabled:o(p),"onUpdate:modelValue":n,onBlur:r},{default:a(()=>[Le,Me,$e,Ze,Ge,je]),_:2},1032,["model-value","error","disabled","onUpdate:modelValue","onBlur"])]),_:1})])])]),_:1}),t(T,{label:"Personal info",sublabel:"Some personal information"},{default:a(()=>[e("div",Ye,[e("div",qe,[t(o(h),{name:"doctor.address"},{default:a(({field:l,errorMessage:d,handleChange:n,handleBlur:r})=>[t(b,{label:"Address / Street",icon:"ph:map-pin-duotone",placeholder:"Ex: App 2 suite g3 santa monica","model-value":l.value,error:d,disabled:o(p),"onUpdate:modelValue":n,onBlur:r},null,8,["model-value","error","disabled","onUpdate:modelValue","onBlur"])]),_:1})]),e("div",He,[t(o(h),{name:"doctor.city"},{default:a(({field:l,errorMessage:d,handleChange:n,handleBlur:r})=>[t(b,{label:"City",icon:"ph:buildings-duotone",placeholder:"Ex: Los Angeles","model-value":l.value,error:d,disabled:o(p),type:"text","onUpdate:modelValue":n,onBlur:r},null,8,["model-value","error","disabled","onUpdate:modelValue","onBlur"])]),_:1})]),e("div",Je,[t(o(h),{name:"doctor.state"},{default:a(({field:l,errorMessage:d,handleChange:n,handleBlur:r})=>[t(b,{label:"State/Province",icon:"ph:globe-duotone",placeholder:"Ex: CA","model-value":l.value,error:d,disabled:o(p),type:"text","onUpdate:modelValue":n,onBlur:r},null,8,["model-value","error","disabled","onUpdate:modelValue","onBlur"])]),_:1})]),e("div",We,[t(o(h),{name:"doctor.zipcode"},{default:a(({field:l,errorMessage:d,handleChange:n,handleBlur:r})=>[t(b,{type:"text",label:"Zip Code",icon:"ph:paper-plane-tilt-duotone",placeholder:"Ex: 912656","model-value":l.value,error:d,disabled:o(p),"onUpdate:modelValue":n,onBlur:r},null,8,["model-value","error","disabled","onUpdate:modelValue","onBlur"])]),_:1})]),e("div",Xe,[e("div",Ke,[t(B,{size:"xs",src:"/img/icons/flags/united-states-of-america.svg"}),t(g,{size:"sm",class:"text-muted-500 dark:text-muted-400"},{default:a(()=>[c("United States")]),_:1}),e("div",eo,[t(Z,{to:"#",class:"text-primary-500 font-sans text-sm underline-offset-4 hover:underline"},{default:a(()=>[c("Change")]),_:1})])])])])]),_:1}),e("div",oo,[e("div",to,[t(S,{class:"!h-12 w-full sm:w-40"},{default:a(()=>[c(" Cancel ")]),_:1}),t(S,{type:"submit",color:"primary",class:"!h-12 w-full sm:w-40"},{default:a(()=>[c(" Submit ")]),_:1})])])])])]),_:1})]),e("div",ao,[t(D,{class:"ptablet:p-8 p-6 lg:p-8"},{default:a(()=>[t(g,{size:"xs",weight:"medium",class:"text-muted-400 mb-6 block uppercase tracking-wider"},{default:a(()=>[c("Record preview")]),_:1}),e("div",so,[e("div",lo,[t(f,{as:"h3",weight:"medium"},{default:a(()=>[c("Dr. "+v(o(i).doctor?.firstName)+" "+v(o(i).doctor?.lastName),1)]),_:1}),t(g,{size:"sm",class:"text-muted-400"},{default:a(()=>[c(v(o(i).doctor?.city===""?"City":o(i).doctor?.city)+", "+v(o(i).doctor?.state===""?"State":o(i).doctor?.state),1)]),_:1})]),e("div",no,[t(B,{size:"lg",src:"/img/avatars/20.svg"})])]),e("div",null,[t(f,{as:"h3",size:"md",weight:"medium"},{default:a(()=>[c(v(o(i).doctor?.speciality===null?"Main speciality":o(i).doctor?.speciality),1)]),_:1}),t(g,{size:"sm",class:"text-muted-400"},{default:a(()=>[c(v(o(i).doctor?.comments===""?"Observations will be shown here":o(i).doctor?.comments),1)]),_:1})]),e("div",ro,[e("div",io,[t(f,{as:"h3",size:"sm",weight:"medium",lead:"none"},{default:a(()=>[c(v(o(i).doctor?.status===null?"n/a":o(i).doctor?.status),1)]),_:1}),t(g,{size:"xs",class:"text-muted-400"},{default:a(()=>[c(" Role status ")]),_:1})]),e("div",co,[t(f,{as:"h3",size:"sm",weight:"medium",lead:"none"},{default:a(()=>[c(v(o(i).doctor?.experience===null?"n/a":o(i).doctor?.experience),1)]),_:1}),t(g,{size:"xs",class:"text-muted-400"},{default:a(()=>[c(" Years of exp. ")]),_:1})]),e("div",uo,[t(f,{as:"h3",size:"sm",weight:"medium",lead:"none"},{default:a(()=>[c("Lvl. "+v(o(i).doctor?.rating===null?"n/a":o(i).doctor?.rating),1)]),_:1}),t(g,{size:"xs",class:"text-muted-400"},{default:a(()=>[c(" Global rating ")]),_:1})])]),e("div",null,[e("div",mo,[_o,e("div",po,v(o(M)),1)]),e("div",ho,[e("div",{class:E(["dark:border-muted-800 h-3 grow border-x border-white",o(x)>0?"bg-success-600":"bg-muted-200 dark:bg-muted-700"])},null,2),e("div",{class:E(["dark:border-muted-800 h-3 grow border-x border-white",o(x)>=2?"bg-success-600":"bg-muted-200 dark:bg-muted-700"])},null,2),e("div",{class:E(["dark:border-muted-800 h-3 grow border-x border-white",o(x)>=3?"bg-success-600":"bg-muted-200 dark:bg-muted-700"])},null,2),e("div",{class:E(["dark:border-muted-800 h-3 grow border-x border-white",o(x)>=4?"bg-success-600":"bg-muted-200 dark:bg-muted-700"])},null,2),e("div",{class:E(["dark:border-muted-800 h-3 grow border-x border-white",o(x)===5?"bg-success-600":"bg-muted-200 dark:bg-muted-700"])},null,2)])]),e("div",vo,[t(G,{name:"lucide:mail",class:"h-4 w-4"}),t(g,{size:"xs"},{default:a(()=>[c(v(o(i).doctor?.email===""?"email address":o(i).doctor?.email),1)]),_:1})])]),_:1})])],32)}}});export{Bo as default};
