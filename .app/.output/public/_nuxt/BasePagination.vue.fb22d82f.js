import{d as N,a7 as R,c as h,b8 as S,o as d,a as g,e as l,w as c,$ as P,b as K,D as p,O as y,f as B,h as o,t as b,M,F as V,E as F,m as Q,bp as q,l as E}from"./entry.896af9cc.js";const z={key:0},A={key:1},O={key:2},j=N({__name:"BasePagination",props:{itemPerPage:{},totalItems:{},currentPage:{default:1},maxLinksDisplayed:{default:3},noRouter:{type:Boolean},routerQueryKey:{default:"page"},shape:{default:void 0},previousIcon:{default:"lucide:chevron-left"},nextIcon:{default:"lucide:chevron-right"},ellipsis:{default:"â€¦"}},emits:["update:currentPage"],setup(I,{emit:_}){const a=I,$=_,x=R();h(()=>a.shape??x.nui.defaultShapes?.pagination);const u={straight:"",rounded:"nui-pagination-rounded",smooth:"nui-pagination-smooth",curved:"nui-pagination-curved",full:"nui-pagination-full"},C=S(),i=h(()=>Math.ceil(a.totalItems/a.itemPerPage)||1),m=h(()=>i.value>a.maxLinksDisplayed+2?a.maxLinksDisplayed+2:i.value),f=h(()=>{const n=[];let e=a.currentPage-Math.floor(m.value/2),s=e+(m.value-Math.ceil(m.value%2));e<1&&(e=1,s=e+(m.value-1)),s>i.value&&(s=i.value,e=s-(m.value-1));for(let r=e;r<=s;r+=1)r===e||r===s||n.push(r);return n}),L=h(()=>i.value>1),k=(n=1)=>{if(a.noRouter)return{};const e=Math.max(1,Math.min(n,i.value)),s={...C.query};return a.routerQueryKey&&(s[a.routerQueryKey]=e<=1?void 0:e),{name:C.name,params:C.params,query:s}},v=(n,e=1)=>{const s=Math.max(1,Math.min(e,i.value));if($("update:currentPage",s),a.noRouter)return n.preventDefault(),n.stopPropagation(),!1};return(n,e)=>{const s=Q,r=q,D=E;return d(),g("div",{class:p(["nui-pagination",[a.shape&&u[a.shape]]])},[l(r,{as:"ul",class:p(["nui-pagination-list",a.shape&&u[a.shape]])},{default:c(()=>[P(n.$slots,"before-pagination"),K("li",null,[l(s,{to:k(1),tabindex:"0",class:p(["nui-pagination-link",[n.currentPage===1&&"nui-active",a.shape&&u[a.shape]]]),onKeydown:e[0]||(e[0]=y(t=>t.target.click(),["space"])),onClick:e[1]||(e[1]=t=>v(t,1))},{default:c(()=>[B(" 1 ")]),_:1},8,["to","class"])]),o(L)&&o(f).length>0&&o(f)[0]>2?(d(),g("li",z,[K("span",{class:p(["nui-pagination-ellipsis",[a.shape&&u[a.shape]]])},b(a.ellipsis),3)])):M("",!0),(d(!0),g(V,null,F(o(f),t=>(d(),g("li",{key:t},[l(s,{to:k(t),tabindex:"0","aria-current":n.currentPage===t?"page":void 0,class:p(["nui-pagination-link",[n.currentPage===t&&"nui-active",a.shape&&u[a.shape]]]),onKeydown:e[2]||(e[2]=y(w=>w.target.click(),["space"])),onClick:w=>v(w,t)},{default:c(()=>[B(b(t),1)]),_:2},1032,["to","aria-current","class","onClick"])]))),128)),o(L)&&o(f)[o(f).length-1]<o(i)-1?(d(),g("li",A,[K("span",{class:p(["nui-pagination-ellipsis",[a.shape&&u[a.shape]]])},b(a.ellipsis),3)])):M("",!0),o(L)?(d(),g("li",O,[l(s,{to:k(o(i)),tabindex:"0",class:p(["nui-pagination-link",[n.currentPage===o(i)&&"nui-active",a.shape&&u[a.shape]]]),onKeydown:e[3]||(e[3]=y(t=>t.target.click(),["space"])),onClick:e[4]||(e[4]=t=>v(t,o(i)))},{default:c(()=>[B(b(o(i)),1)]),_:1},8,["to","class"])])):M("",!0),P(n.$slots,"after-pagination")]),_:3},8,["class"]),l(r,{class:p(["nui-pagination-buttons",a.shape&&u[a.shape]])},{default:c(()=>[P(n.$slots,"before-navigation"),l(s,{to:k(n.currentPage-1),tabindex:"0",class:"nui-pagination-button",onKeydown:e[5]||(e[5]=y(t=>t.target.click(),["space"])),onClick:e[6]||(e[6]=t=>v(t,n.currentPage-1))},{default:c(()=>[l(D,{name:n.previousIcon,class:"pagination-button-icon"},null,8,["name"])]),_:1},8,["to"]),l(s,{to:k(n.currentPage+1),tabindex:"0",class:"nui-pagination-button",onKeydown:e[7]||(e[7]=y(t=>t.target.click(),["space"])),onClick:e[8]||(e[8]=t=>v(t,n.currentPage+1))},{default:c(()=>[l(D,{name:n.nextIcon,class:"pagination-button-icon"},null,8,["name"])]),_:1},8,["to"]),P(n.$slots,"after-navigation")]),_:3},8,["class"])],2)}}});export{j as _};
