// ROLLUP_NO_REPLACE 
 const _7_deployment = "{\"parsed\":{\"_path\":\"/documentation/guides/deployment\",\"_dir\":\"guides\",\"_draft\":false,\"_partial\":false,\"_locale\":\"\",\"title\":\"Deployment\",\"description\":\"\",\"body\":{\"type\":\"root\",\"children\":[{\"type\":\"element\",\"tag\":\"doc-component-demo\",\"props\":{\"title\":\"Introduction\"},\"children\":[{\"type\":\"element\",\"tag\":\"p\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Before you can deploy your application, you need to know how to build it. This guide will show you how to build your application.\"}]},{\"type\":\"element\",\"tag\":\"p\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Nuxt have two different ways to build your application, for static hosting or server-rendered application. Each one has its own advantages and disadvantages, so it's important to know which one is best for your use case.\"}]},{\"type\":\"element\",\"tag\":\"hr\",\"props\":{\"id\":\"\"},\"children\":[]},{\"type\":\"element\",\"tag\":\"p\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Useful resources:\"}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"a\",\"props\":{\"href\":\"https://nuxt.com/docs/getting-started/deployment\",\"rel\":[\"nofollow\"]},\"children\":[{\"type\":\"text\",\"value\":\"Read more deployment on nuxt.com\"}]}]}]}]},{\"type\":\"element\",\"tag\":\"doc-component-demo\",\"props\":{\"title\":\"Static Hosting\"},\"children\":[{\"type\":\"element\",\"tag\":\"doc-heading\",\"props\":{\"label\":\"Advantages\",\"className\":[\"!mt-0\"]},\"children\":[]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Faster load times: Static sites are pre-built and served as-is, which means they can be delivered to the user more quickly than server-rendered sites.\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Lower hosting costs: Static sites can be hosted on services like GitHub Pages or Netlify for free or at a low cost, whereas server-rendered sites require more powerful hosting solutions.\"}]}]},{\"type\":\"element\",\"tag\":\"doc-heading\",\"props\":{\"label\":\"Disadvantages\"},\"children\":[]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Limited interactivity: Static sites can't provide the same level of interactivity as server-rendered sites because they don't have a server-side component.\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Harder to update: Static sites require a rebuild and redeploy every time you make a change, which can be time-consuming and error-prone.\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Limited functionality: Static sites can't perform complex server-side operations like processing payments or sending emails without the use of third-party services.\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Limited dynamic content: Static sites can't easily display dynamic content like user-specific data or real-time updates without the use of client-side JavaScript.\"}]}]},{\"type\":\"element\",\"tag\":\"doc-heading\",\"props\":{\"label\":\"Generate a static site\"},\"children\":[]},{\"type\":\"element\",\"tag\":\"p\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Use the \"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"pnpm generate\"}]},{\"type\":\"text\",\"value\":\" command to generate a static site from your application. This command will create a \"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\".app/.output/public\"}]},{\"type\":\"text\",\"value\":\" directory that contains all of the files needed to serve your application statically.\"}]},{\"type\":\"element\",\"tag\":\"p\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"You can also directly use \"},{\"type\":\"element\",\"tag\":\"a\",\"props\":{\"href\":\"https://github.com/nuxt/cli\",\"rel\":[\"nofollow\"]},\"children\":[{\"type\":\"text\",\"value\":\"Nuxt CLI\"}]},{\"type\":\"text\",\"value\":\" using \"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"npx\"}]},{\"type\":\"text\",\"value\":\", which is installed with Node.js.\"}]},{\"type\":\"element\",\"tag\":\"pre\",\"props\":{\"className\":[\"language-bash\"],\"code\":\"npx nuxi generate .app\\n\",\"language\":\"bash\",\"meta\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"npx nuxi generate .app\\n\"}]}]},{\"type\":\"element\",\"tag\":\"doc-message\",\"props\":{\"icon\":\"ph:info\",\"type\":\"muted\"},\"children\":[{\"type\":\"element\",\"tag\":\"p\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Don't forget to add the \"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\".app\"}]},{\"type\":\"text\",\"value\":\" after the command to specify the layer you want to build.\"}]}]},{\"type\":\"element\",\"tag\":\"p\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Before deploying, you can ensure that the generated files are correct by using the \"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"pnpm serve\"}]},{\"type\":\"text\",\"value\":\" command to serve them locally.\"}]},{\"type\":\"element\",\"tag\":\"pre\",\"props\":{\"className\":[\"language-bash\"],\"code\":\"npx serve .app/.output/public\\n\",\"language\":\"bash\",\"meta\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"npx serve .app/.output/public\\n\"}]}]}]},{\"type\":\"element\",\"tag\":\"doc-component-demo\",\"props\":{\"title\":\"Server-Rendered Applications\"},\"children\":[{\"type\":\"element\",\"tag\":\"doc-heading\",\"props\":{\"label\":\"Advantages\",\"className\":[\"!mt-0\"]},\"children\":[]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"More interactivity: Server-rendered sites can provide a higher level of interactivity because they have a server-side component that can handle user input and perform complex operations.\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Easier to update: Server-rendered sites can be updated more easily because changes can be made on the server and don't require a rebuild and redeploy.\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"More functionality: Server-rendered sites can perform complex server-side operations like processing payments or sending emails without the use of third-party services.\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"More dynamic content: Server-rendered sites can easily display dynamic content like user-specific data or real-time updates.\"}]}]},{\"type\":\"element\",\"tag\":\"doc-heading\",\"props\":{\"label\":\"Disadvantages\"},\"children\":[]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Slower load times: Server-rendered sites require more processing on the server before they can be delivered to the user, which can result in slower load times.\"}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Higher hosting costs: Server-rendered sites require more powerful hosting solutions, which can be more expensive than static hosting.\"}]}]},{\"type\":\"element\",\"tag\":\"doc-heading\",\"props\":{\"label\":\"Build production application\"},\"children\":[]},{\"type\":\"element\",\"tag\":\"p\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Use the \"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"pnpm build\"}]},{\"type\":\"text\",\"value\":\" command to generate a static site from your application. This command will create a \"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\".app/.output\"}]},{\"type\":\"text\",\"value\":\" directory that contains all of the files needed to serve your application with a server.\"}]},{\"type\":\"element\",\"tag\":\"p\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Nuxt build is performed through Nitro which can output your application for different platforms. By default, it will output a Node.js application, but it comes with many presets like for Bun, Deno, Vercel, Cloudflare, etc.\"}]},{\"type\":\"element\",\"tag\":\"p\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"You can also directly use \"},{\"type\":\"element\",\"tag\":\"a\",\"props\":{\"href\":\"https://github.com/nuxt/cli\",\"rel\":[\"nofollow\"]},\"children\":[{\"type\":\"text\",\"value\":\"Nuxt CLI\"}]},{\"type\":\"text\",\"value\":\" using \"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"npx\"}]},{\"type\":\"text\",\"value\":\", which is installed with Node.js.\"}]},{\"type\":\"element\",\"tag\":\"pre\",\"props\":{\"className\":[\"language-bash\"],\"code\":\"NITRO_PRESET=node-cluster npx nuxi build .app\\n\",\"language\":\"bash\",\"meta\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"NITRO_PRESET=node-cluster npx nuxi build .app\\n\"}]}]},{\"type\":\"element\",\"tag\":\"doc-message\",\"props\":{\"icon\":\"ph:info\",\"type\":\"muted\"},\"children\":[{\"type\":\"element\",\"tag\":\"p\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Don't forget to add the \"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\".app\"}]},{\"type\":\"text\",\"value\":\" after the command to specify the layer you want to build.\"}]}]},{\"type\":\"element\",\"tag\":\"p\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Before deploying, you can ensure that the application runs correctly by using:\"}]},{\"type\":\"element\",\"tag\":\"pre\",\"props\":{\"className\":[\"language-bash\"],\"code\":\"node .app/.output/server/index.mjs\\n\",\"language\":\"bash\",\"meta\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"node .app/.output/server/index.mjs\\n\"}]}]},{\"type\":\"element\",\"tag\":\"doc-heading\",\"props\":{\"label\":\"Docker example\"},\"children\":[]},{\"type\":\"element\",\"tag\":\"p\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"You can also use Docker to build and run your application. This is useful if you want to deploy your application on containers like Kubernetes or Docker Swarm.\"}]},{\"type\":\"element\",\"tag\":\"p\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"First, create a \"},{\"type\":\"element\",\"tag\":\"code\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Dockerfile\"}]},{\"type\":\"text\",\"value\":\" in your project root directory:\"}]},{\"type\":\"element\",\"tag\":\"pre\",\"props\":{\"className\":[\"language-dockerfile\"],\"code\":\"# Build stage\\nFROM bitnami/node:18 AS build\\nWORKDIR /app\\n\\n# Install pnpm with corepack\\nRUN corepack enable && corepack prepare pnpm@latest --activate\\n\\n# Prepare pnpm dependencies using lockfile, patches and docker cache\\nCOPY pnpm-lock.yaml .\\nCOPY patches/ patches/\\nRUN --mount=type=cache,id=pnpm,target=/root/.local/share/pnpm/store pnpm fetch\\n\\n# Install and build the app\\nCOPY . .\\nRUN pnpm install\\nRUN pnpm build\\n\\n# Production stage\\nFROM bitnami/node:18 AS prod\\nWORKDIR /app\\n\\n# Create a non-root user\\nRUN groupadd -g 10001 nuxt && \\\\\\n  useradd -u 10001 -g nuxt nuxt \\\\\\n  && chown -R nuxt:nuxt /app\\n\\n# Switch to the non-root user\\nUSER nuxt:nuxt\\n\\n# Set the environment to production\\nENV NODE_ENV=production\\n\\n# Copy the built app from the build stage\\nCOPY --chown=nuxt:nuxt --from=build /app/.app/.output .output\\n\\n# Expose the port\\nEXPOSE 3000\\n\\n# Start the app\\nCMD [\\\"node\\\", \\\".output/server/index.mjs\\\"]\\n\",\"language\":\"dockerfile\",\"meta\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"# Build stage\\nFROM bitnami/node:18 AS build\\nWORKDIR /app\\n\\n# Install pnpm with corepack\\nRUN corepack enable && corepack prepare pnpm@latest --activate\\n\\n# Prepare pnpm dependencies using lockfile, patches and docker cache\\nCOPY pnpm-lock.yaml .\\nCOPY patches/ patches/\\nRUN --mount=type=cache,id=pnpm,target=/root/.local/share/pnpm/store pnpm fetch\\n\\n# Install and build the app\\nCOPY . .\\nRUN pnpm install\\nRUN pnpm build\\n\\n# Production stage\\nFROM bitnami/node:18 AS prod\\nWORKDIR /app\\n\\n# Create a non-root user\\nRUN groupadd -g 10001 nuxt && \\\\\\n  useradd -u 10001 -g nuxt nuxt \\\\\\n  && chown -R nuxt:nuxt /app\\n\\n# Switch to the non-root user\\nUSER nuxt:nuxt\\n\\n# Set the environment to production\\nENV NODE_ENV=production\\n\\n# Copy the built app from the build stage\\nCOPY --chown=nuxt:nuxt --from=build /app/.app/.output .output\\n\\n# Expose the port\\nEXPOSE 3000\\n\\n# Start the app\\nCMD [\\\"node\\\", \\\".output/server/index.mjs\\\"]\\n\"}]}]},{\"type\":\"element\",\"tag\":\"p\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"This Dockerfile uses a multi-stage build to separate the build and production stages. The build stage installs pnpm and builds the application, while the production stage copies the built application from the build stage and runs it, using a non-root user for security reasons. This allow to keep only the built application in the production image.\"}]},{\"type\":\"element\",\"tag\":\"p\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Then, build and run the Docker image:\"}]},{\"type\":\"element\",\"tag\":\"pre\",\"props\":{\"className\":[\"language-bash\"],\"code\":\"docker build --tag my-frontend-app:1.0.0 .\\n\",\"language\":\"bash\",\"meta\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"docker build --tag my-frontend-app:1.0.0 .\\n\"}]}]},{\"type\":\"element\",\"tag\":\"p\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Once the image is built, you can run it using:\"}]},{\"type\":\"element\",\"tag\":\"pre\",\"props\":{\"className\":[\"language-bash\"],\"code\":\"docker run --rm --publish 3000:3000 my-frontend-app:1.0.0\\n\",\"language\":\"bash\",\"meta\":\"\"},\"children\":[{\"type\":\"element\",\"tag\":\"code\",\"props\":{\"__ignoreMap\":\"\"},\"children\":[{\"type\":\"text\",\"value\":\"docker run --rm --publish 3000:3000 my-frontend-app:1.0.0\\n\"}]}]},{\"type\":\"element\",\"tag\":\"hr\",\"props\":{\"id\":\"_1\"},\"children\":[]},{\"type\":\"element\",\"tag\":\"p\",\"props\":{},\"children\":[{\"type\":\"text\",\"value\":\"Useful resources:\"}]},{\"type\":\"element\",\"tag\":\"ul\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"a\",\"props\":{\"href\":\"https://nitro.unjs.io/deploy/\",\"rel\":[\"nofollow\"]},\"children\":[{\"type\":\"text\",\"value\":\"View Presets on nitro.unjs.io\"}]}]},{\"type\":\"element\",\"tag\":\"li\",\"props\":{},\"children\":[{\"type\":\"element\",\"tag\":\"a\",\"props\":{\"href\":\"https://docs.docker.com/build/building/multi-stage/\",\"rel\":[\"nofollow\"]},\"children\":[{\"type\":\"text\",\"value\":\"Read about multi-stage build on docker.com\"}]}]}]}]}],\"toc\":{\"title\":\"\",\"searchDepth\":2,\"depth\":2,\"links\":[]}},\"_type\":\"markdown\",\"_id\":\"content:documentation:50.guides:7.deployment.md\",\"_source\":\"content\",\"_file\":\"documentation/50.guides/7.deployment.md\",\"_extension\":\"md\"},\"hash\":\"Qs0L9h7KJb\"}";

export { _7_deployment as default };
//# sourceMappingURL=7.deployment.mjs.map
